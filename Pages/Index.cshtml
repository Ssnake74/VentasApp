@page
@model VentasApp.Pages.IndexModel
@{
    ViewData["Title"] = "Productos Vendidos en 2019";
}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />

<div class="container mt-4">
    <h2>Productos Vendidos en 2019</h2>

    <form method="get">
        <div class="mb-3">
            <label class="form-label">Selecciona una categoría:</label>
            <select name="CategoriaSeleccionada" class="form-select" onchange="this.form.submit()">
                <option value="">-- Selecciona --</option>
                @foreach (var cat in Model.Categorias)
                {
                    <option value="@cat.CodigoCategoria" selected="@(Model.CategoriaSeleccionada == cat.CodigoCategoria)">
                        @cat.Nombre
                    </option>
                }
            </select>
        </div>
    </form>

    @if (Model.Productos.Count > 0)
    {
        <h4>Productos:</h4>
        <ul class="list-group">
            @foreach (var prod in Model.Productos)
            {
                <li class="list-group-item">@prod.Nombre</li>
            }
        </ul>
    }
    else if (Model.CategoriaSeleccionada != null)
    {
        <p class="text-muted">No hay productos vendidos en 2019 para esta categoría.</p>
    }
</div>